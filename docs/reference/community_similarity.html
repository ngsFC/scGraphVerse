<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compare Community Assignments and Topological Properties — community_similarity • scGraphVerse</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compare Community Assignments and Topological Properties — community_similarity"><meta name="description" content="Evaluates similarity between a ground truth community structure and one
or more predicted community structures. Computes community assignment
metrics (VI, NMI, ARI) and raw topological properties (Modularity,
Number of Communities, Density, Transitivity). Visualizes results via a
radar plot for community assignment and bar plots for topology."><meta property="og:description" content="Evaluates similarity between a ground truth community structure and one
or more predicted community structures. Computes community assignment
metrics (VI, NMI, ARI) and raw topological properties (Modularity,
Number of Communities, Density, Transitivity). Visualizes results via a
radar plot for community assignment and bar plots for topology."><meta property="og:image" content="https://ngsFC.github.io/scGraphVerse/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scGraphVerse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngsFC/scGraphVerse/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Compare Community Assignments and Topological Properties</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngsFC/scGraphVerse/blob/HEAD/R/community_similarity.R" class="external-link"><code>R/community_similarity.R</code></a></small>
      <div class="d-none name"><code>community_similarity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Evaluates similarity between a ground truth community structure and one
or more predicted community structures. Computes community assignment
metrics (VI, NMI, ARI) and raw topological properties (Modularity,
Number of Communities, Density, Transitivity). Visualizes results via a
radar plot for community assignment and bar plots for topology.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">community_similarity</span><span class="op">(</span><span class="va">control_output</span>, <span class="va">predicted_list</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-control-output">control_output<a class="anchor" aria-label="anchor" href="#arg-control-output"></a></dt>
<dd><p>A list output from <code><a href="community_path.html">community_path()</a></code> representing the
ground truth network. Must contain a <code>graph</code> (igraph object) and
<code>communities$membership</code>.</p></dd>


<dt id="arg-predicted-list">predicted_list<a class="anchor" aria-label="anchor" href="#arg-predicted-list"></a></dt>
<dd><p>A list of lists, each output from <code><a href="community_path.html">community_path()</a></code>
representing predicted networks to compare.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing:</p><ul><li><p><code>community_metrics</code>: A data frame with VI, NMI, and ARI
scores for each prediction.</p></li>
<li><p><code>topology_measures</code>: A data frame with raw topological
metrics for each prediction.</p></li>
<li><p><code>control_topology</code>: A list of raw topological metrics for
the ground truth network.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function requires the <strong>igraph</strong> and <strong>fmsb</strong>
packages. Community similarity is measured using variation of
information (VI), normalized mutual information (NMI), and adjusted
Rand index (ARI). Topological properties are compared by directly
plotting raw values without normalization.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">count_matrices</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">adj_truth</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">networks</span> <span class="op">&lt;-</span> <span class="fu"><a href="infer_networks.html">infer_networks</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    count_matrices_list <span class="op">=</span> <span class="va">count_matrices</span>,</span></span>
<span class="r-in"><span>    method <span class="op">=</span> <span class="st">"GENIE3"</span>,</span></span>
<span class="r-in"><span>    nCores <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">networks</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   regulatoryGene targetGene    weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          EIF3E      PCBP1 0.1697351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          EEF1G      PTPRC 0.1401353</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         EEF1A1       NACA 0.1371151</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           CD3E       CD3D 0.1336590</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        HNRNPA1    PTPRCAP 0.1332902</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          PTPRC       CYBA 0.1316393</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wadj_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_adjacency.html">generate_adjacency</a></span><span class="op">(</span><span class="va">networks</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">swadj_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="symmetrize.html">symmetrize</a></span><span class="op">(</span><span class="va">wadj_list</span>, weight_function <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">binary_listj</span> <span class="op">&lt;-</span> <span class="fu"><a href="cutoff_adjacency.html">cutoff_adjacency</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    count_matrices <span class="op">=</span> <span class="va">count_matrices</span>,</span></span>
<span class="r-in"><span>    weighted_adjm_list <span class="op">=</span> <span class="va">swadj_list</span>,</span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>    method <span class="op">=</span> <span class="st">"GENIE3"</span>,</span></span>
<span class="r-in"><span>    quantile_threshold <span class="op">=</span> <span class="fl">0.95</span>,</span></span>
<span class="r-in"><span>    nCores <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    debug <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [Method: GENIE3] Matrix 1 → Cutoff = 0.05784</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [Method: GENIE3] Matrix 2 → Cutoff = 0.06358</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [Method: GENIE3] Matrix 3 → Cutoff = 0.06316</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">binary_listj</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ACTG1 ARHGDIB BTF3 CD3D CD3E CFL1 COX4I1 COX7C CYBA EEF1A1 EEF1D EEF1G</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ACTG1       0       0    0    0    0    1      0     0    0      0     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ARHGDIB     0       0    0    0    0    0      0     0    0      0     0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BTF3        0       0    0    0    0    0      0     0    0      0     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3D        0       0    0    0    1    0      0     0    0      0     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3E        0       0    0    1    0    0      0     0    0      0     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CFL1        1       0    0    0    0    0      0     0    0      0     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         EEF2 EIF1 EIF3E FTH1 FTL HLA-A HLA-B HLA-C HLA-E HNRNPA1 HNRNPA2B1 MYL6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ACTG1      0    0     1    0   0     0     0     0     0       0         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ARHGDIB    0    0     0    0   0     0     0     0     0       0         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BTF3       0    0     0    0   0     0     0     0     0       0         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3D       0    0     0    0   0     0     0     0     0       0         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3E       0    0     0    1   0     0     0     0     0       0         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CFL1       0    0     0    0   0     0     1     0     0       0         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         NACA PCBP1 PCBP2 PFN1 PTPRC PTPRCAP RAC2 SKP1 SNRPD2 TMSB4X UBA52 UBC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ACTG1      0     0     0    0     0       0    0    0      0      0     0   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ARHGDIB    0     0     0    0     0       0    1    0      0      0     0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BTF3       0     0     0    0     0       0    0    0      1      0     0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3D       0     0     0    0     0       0    0    0      1      0     0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3E       1     0     0    0     0       0    0    1      0      0     1   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CFL1       0     0     0    0     0       0    0    0      0      0     0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         UQCRB YBX1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ACTG1       0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ARHGDIB     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BTF3        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3D        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CD3E        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CFL1        0    1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">consensus</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_consensus.html">create_consensus</a></span><span class="op">(</span><span class="va">binary_listj</span>, method <span class="op">=</span> <span class="st">"vote"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">comm_cons</span> <span class="op">&lt;-</span> <span class="fu"><a href="community_path.html">community_path</a></span><span class="op">(</span><span class="va">consensus</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Detecting communities...</span>
<span class="r-plt img"><img src="community_similarity-1.png" alt="" width="700" height="433"></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running pathway enrichment...</span>
<span class="r-in"><span><span class="va">comm_truth</span> <span class="op">&lt;-</span> <span class="fu"><a href="community_path.html">community_path</a></span><span class="op">(</span><span class="va">adj_truth</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Detecting communities...</span>
<span class="r-plt img"><img src="community_similarity-2.png" alt="" width="700" height="433"></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running pathway enrichment...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'select()' returned 1:1 mapping between keys and columns</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading KEGG annotation online: "https://rest.kegg.jp/link/hsa/pathway"...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading KEGG annotation online: "https://rest.kegg.jp/list/pathway/hsa"...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'select()' returned 1:1 mapping between keys and columns</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'select()' returned 1:1 mapping between keys and columns</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sim_score</span> <span class="op">&lt;-</span> <span class="fu">community_similarity</span><span class="op">(</span><span class="va">comm_truth</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">comm_cons</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="community_similarity-3.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="community_similarity-4.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francesco Cecere.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

