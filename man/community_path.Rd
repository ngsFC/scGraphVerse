% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/community_path.R
\name{community_path}
\alias{community_path}
\title{Community Detection and Pathway Enrichment Analysis}
\usage{
community_path(
  adj_matrix,
  methods = "louvain",
  pathway_db = "KEGG",
  genes_path = 5,
  plot = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{adj_matrix}{A square adjacency matrix. Row and column names must correspond to gene symbols.}

\item{methods}{A character vector specifying one or two community detection methods supported by \pkg{robin}.
If two methods are provided, their performance will be compared and the best one selected. Default is \code{"louvain"}.}

\item{pathway_db}{A character string specifying the pathway database to use: either \code{"KEGG"} or \code{"Reactome"}. Default is \code{"KEGG"}.}

\item{genes_path}{Integer. Minimum number of genes per community to perform pathway enrichment. Default is \code{5}.}

\item{plot}{Logical. If \code{TRUE}, a plot of the detected communities is generated. Default is \code{TRUE}.}

\item{verbose}{Logical. If \code{TRUE}, displays progress messages during the computation. Default is \code{TRUE}.}
}
\value{
A list with three elements:
\itemize{
\item \code{communities}: A list containing the best method used and community membership for each gene.
\item \code{pathways}: A list of pathway enrichment results per community (only for communities meeting the size threshold).
\item \code{graph}: The igraph object containing the network and community annotations.
}
}
\description{
Detects gene communities within an adjacency network using one or two community detection methods,
and performs pathway enrichment analysis for detected communities.
}
\details{
If two methods are provided, the function internally uses \code{robinCompare} and selects the method
achieving the higher AUC based on internal metrics. Pathway enrichment is performed via \pkg{clusterProfiler}
for KEGG and via \pkg{ReactomePA} for Reactome pathways.

Communities smaller than \code{genes_path} are excluded from enrichment analysis.
}
\examples{
set.seed(123)
# Simulate a small random adjacency matrix
genes <- paste0("Gene", 1:30)
mat <- matrix(runif(900, min = 0, max = 1), nrow = 30)
mat[mat < 0.8] <- 0  # Sparsify
diag(mat) <- 0
rownames(mat) <- colnames(mat) <- genes

# Run community detection and enrichment (using KEGG, single method)
result <- community_path(
  adj_matrix = mat,
  methods = "louvain",
  pathway_db = "KEGG",
  genes_path = 5,
  plot = FALSE,
  verbose = FALSE
)

# Inspect results
head(result$communities$membership)
names(result$pathways)
}
