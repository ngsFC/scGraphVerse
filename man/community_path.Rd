% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/community_path.R
\name{community_path}
\alias{community_path}
\title{Community Detection and Pathway Enrichment Analysis}
\usage{
community_path(
  adj_matrix,
  methods = "louvain",
  pathway_db = "KEGG",
  genes_path = 5,
  plot = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{adj_matrix}{A square adjacency matrix. Row and column names must
correspond to gene symbols.}

\item{methods}{A character vector of one or two community detection
methods supported by \pkg{robin}. If two are given, performance is
compared and the best is selected. Default: \code{"louvain"}.}

\item{pathway_db}{Character string specifying the pathway database to use:
\code{"KEGG"} or \code{"Reactome"}. Default: \code{"KEGG"}.}

\item{genes_path}{Integer. Minimum number of genes per community to run
enrichment analysis. Default: \code{5}.}

\item{plot}{Logical. If \code{TRUE}, generates a plot of detected
communities. Default: \code{TRUE}.}

\item{verbose}{Logical. If \code{TRUE}, shows progress messages.
Default: \code{TRUE}.}
}
\value{
A list with elements:
\itemize{
\item \code{communities}: List with \code{best_method} and a named
vector of community membership per gene.
\item \code{pathways}: List of enrichment results per community
(only for communities meeting size threshold).
\item \code{graph}: The \pkg{igraph} object with community
annotations.
}
}
\description{
Detects gene communities within an adjacency network using one or two
community detection methods, and performs pathway enrichment for each
detected community.
}
\details{
If two methods are provided, the function uses
\code{robinCompare} and selects the method with higher AUC. Pathway
enrichment is done via \pkg{clusterProfiler} (KEGG) or via
\pkg{ReactomePA} (Reactome). Communities smaller than
\code{genes_path} are excluded.
}
\examples{
genes <- c(
    "TP53",   "BRCA1", "EGFR",   "MYC",     "CDKN1A",
    "BCL2",   "MDM2",  "PTEN",   "AKT1",    "MAPK1"
)

adj <- matrix(
    0,
    nrow = length(genes),
    ncol = length(genes),
    dimnames = list(genes, genes)
)

edge_list <- list(
    c("TP53", "MDM2"),
    c("TP53", "CDKN1A"),
    c("BRCA1", "BCL2"),
    c("PTEN", "AKT1"),
    c("EGFR", "MAPK1"),
    c("MYC", "CDKN1A"),
    c("MYC", "BCL2"),
    c("AKT1", "MAPK1")
)

for (e in edge_list) {
    adj[e[1], e[2]] <- 1
    adj[e[2], e[1]] <- 1
}

diag(adj) <- 0
result <- community_path(
    adj_matrix = adj,
    methods    = "louvain",
    pathway_db = "KEGG",
    genes_path = 2,
    plot       = TRUE,
    verbose    = TRUE
)
}
