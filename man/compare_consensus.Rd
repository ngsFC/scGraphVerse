% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_consensus.R
\name{compare_consensus}
\alias{compare_consensus}
\title{Compare Consensus and Reference Graphs or STRINGdb Networks}
\usage{
compare_consensus(
  consensus_matrix,
  reference_matrix = NULL,
  false_plot = FALSE
)
}
\arguments{
\item{consensus_matrix}{A binary square adjacency matrix representing the consensus network.
Row and column names should correspond to gene symbols.}

\item{reference_matrix}{Optional. A binary square adjacency matrix representing the reference
(ground truth) network. If \code{NULL}, a STRINGdb high-confidence physical interaction
network (human, score > 900) is used.}

\item{false_plot}{Logical. If \code{TRUE}, an additional plot of False Positives (FP) is generated.
Default is \code{FALSE}.}
}
\value{
A \code{ggplot} object visualizing the comparison.
If \code{false_plot = TRUE}, a combined plot of True Positives / False Negatives and False Positives is returned.
}
\description{
Compares a consensus adjacency matrix to a reference network, either provided
manually or generated from STRINGdb. Visualizes True Positives (TP), False Negatives (FN),
and optionally False Positives (FP) edges.
}
\details{
If no \code{reference_matrix} is provided, the function automatically queries STRINGdb
to generate a high-confidence physical interaction network.

The plots differentiate:
\itemize{
\item Confirmed Edges (TP or CE): Present in both consensus and reference.
\item Missing Edges (FN or ME): Present in reference but absent in consensus.
\item Extra Edges (FP or EE): Present in consensus but absent in reference (only if \code{false_plot = TRUE}).
}

Isolated nodes (degree zero) are removed before plotting to improve clarity.
}
\note{
Requires the \pkg{igraph}, \pkg{ggraph}, \pkg{patchwork}, \pkg{Matrix}, and \pkg{STRINGdb} packages.
}
\examples{
\dontrun{
set.seed(42)

# Simulate small example matrices
original <- matrix(sample(0:1, 25, replace = TRUE, prob = c(0.8, 0.2)), 5, 5)
consensus <- matrix(sample(0:1, 25, replace = TRUE, prob = c(0.8, 0.2)), 5, 5)
diag(original) <- diag(consensus) <- 0
rownames(original) <- colnames(original) <- paste0("Gene", 1:5)
rownames(consensus) <- colnames(consensus) <- paste0("Gene", 1:5)

# Compare consensus network to original network
compare_consensus(consensus, reference_matrix = original, false_plot = TRUE)

# Compare consensus network against STRINGdb
compare_consensus(consensus)
}
}
